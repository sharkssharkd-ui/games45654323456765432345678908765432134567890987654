<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MEGA GAMES</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —à—Ä–∏—Ñ—Ç (–∫–∞–∫ –Ω–∞ Vesperia/Minecraft —Å–µ—Ä–≤–µ—Ä–∞—Ö —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Rubik –∏–ª–∏ Montserrat) -->
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- –§–æ–Ω —Å —á–∞—Å—Ç–∏—Ü–∞–º–∏ -->
    <canvas id="particles"></canvas>
    <div class="overlay"></div>

    <div class="app">
        
        <!-- === –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ === -->
        <section id="page-menu" class="page active">
            <header>
                <div class="logo-box">
                    <h1 class="glitch" data-text="MEGA GAMES">MEGA GAMES</h1>
                    <span class="badge">ULTIMATE</span>
                </div>
            </header>

            <div class="grid-menu">
                <div class="card game-card" onclick="Nav.toSetup('snake')">
                    <div class="icon">üêç</div>
                    <div class="meta">
                        <h3>–ó–º–µ–π–∫–∞</h3>
                        <p>–ö–ª–∞—Å—Å–∏–∫–∞ + –ë–æ–Ω—É—Å—ã</p>
                    </div>
                </div>
                <div class="card game-card" onclick="Nav.toSetup('match3')">
                    <div class="icon">üíé</div>
                    <div class="meta">
                        <h3>3 –≤ –†—è–¥</h3>
                        <p>–¶–≤–µ—Ç–Ω—ã–µ –∫–∞–º–Ω–∏</p>
                    </div>
                </div>
                <div class="card game-card" onclick="Nav.toSetup('battleship')">
                    <div class="icon">‚öì</div>
                    <div class="meta">
                        <h3>–ú–æ—Ä—Å–∫–æ–π –ë–æ–π</h3>
                        <p>–¢–∞–∫—Ç–∏–∫–∞</p>
                    </div>
                </div>
                <div class="card game-card" onclick="Nav.toSetup('sapper')">
                    <div class="icon">üí£</div>
                    <div class="meta">
                        <h3>–°–∞–ø–µ—Ä</h3>
                        <p>–õ–æ–≥–∏–∫–∞</p>
                    </div>
                </div>
                <div class="card game-card" onclick="Nav.toSetup('ttt')">
                    <div class="icon">‚ùå</div>
                    <div class="meta">
                        <h3>–ö—Ä–µ—Å—Ç–∏–∫–∏</h3>
                        <p>PvE —Ä–µ–∂–∏–º</p>
                    </div>
                </div>
            </div>

            <footer class="menu-footer">
                <button class="glass-btn" onclick="Nav.openModal('stats')">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                <button class="glass-btn" onclick="Nav.openModal('settings')">‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </footer>
        </section>

        <!-- === –≠–ö–†–ê–ù–´ –ù–ê–°–¢–†–û–ô–ö–ò (SETUP) === -->
        
        <!-- Setup: –ó–º–µ–π–∫–∞ -->
        <section id="setup-snake" class="page setup-page">
            <div class="setup-card">
                <h2>üêç –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ó–º–µ–π–∫–∏</h2>
                <div class="setting-row">
                    <label>–°–∫–æ—Ä–æ—Å—Ç—å</label>
                    <input type="range" id="snake-speed" min="1" max="10" value="5">
                </div>
                <div class="setting-row">
                    <label>–°—Ç–µ–Ω—ã</label>
                    <button class="toggle active" id="snake-walls" onclick="this.classList.toggle('active')">–í–ö–õ</button>
                </div>
                
                <div class="fruits-grid">
                    <h4>–ë–æ–Ω—É—Å—ã (–∫–ª–∏–∫ –¥–ª—è –æ—Ç–∫–ª):</h4>
                    <div class="fruit-toggle active" data-f="gold">üçå<span>+5</span></div>
                    <div class="fruit-toggle active" data-f="blue">ü´ê<span>-3</span></div>
                    <div class="fruit-toggle active" data-f="purple">üçá<span>Slow</span></div>
                    <div class="fruit-toggle active" data-f="cherry">üçí<span>Boom</span></div>
                    <div class="fruit-toggle active" data-f="lime">üçà<span>Ghost</span></div>
                    <div class="fruit-toggle active" data-f="chili">üå∂<span>Speed</span></div>
                </div>

                <div class="actions">
                    <button class="primary-btn" onclick="SnakeGame.init()">–ò–ì–†–ê–¢–¨</button>
                    <button class="text-btn" onclick="Nav.toMenu()">–ù–∞–∑–∞–¥</button>
                </div>
            </div>
        </section>

        <!-- Setup: 3 –≤ —Ä—è–¥ -->
        <section id="setup-match3" class="page setup-page">
            <div class="setup-card">
                <h2>üíé –ù–∞—Å—Ç—Ä–æ–π–∫–∞ 3 –≤ –†—è–¥</h2>
                <div class="setting-row">
                    <label>–¶–µ–ª–∏ (—Ü–≤–µ—Ç–∞)</label>
                    <input type="range" id="m3-targets" min="1" max="6" value="3" oninput="document.getElementById('m3-val').innerText=this.value">
                    <span id="m3-val">3</span>
                </div>
                <div class="info-block">
                    <p>–°–æ–±–∏—Ä–∞–π –ª–∏–Ω–∏–∏ –ø–æ 3+ —ç–ª–µ–º–µ–Ω—Ç–∞.</p>
                    <p>–õ–∏–Ω–∏–∏ 4 –∏ 5 –¥–∞—é—Ç <b>–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ö–æ–¥—ã</b>.</p>
                </div>
                <div class="actions">
                    <button class="primary-btn" onclick="Match3.init()">–ò–ì–†–ê–¢–¨</button>
                    <button class="text-btn" onclick="Nav.toMenu()">–ù–∞–∑–∞–¥</button>
                </div>
            </div>
        </section>

        <!-- Setup: –û—Å—Ç–∞–ª—å–Ω—ã–µ (–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π) -->
        <section id="setup-general" class="page setup-page">
            <div class="setup-card">
                <h2 id="setup-title">–ò–≥—Ä–∞</h2>
                <p id="setup-desc">–û–ø–∏—Å–∞–Ω–∏–µ</p>
                <div class="actions">
                    <button class="primary-btn" id="setup-start-btn">–ò–ì–†–ê–¢–¨</button>
                    <button class="text-btn" onclick="Nav.toMenu()">–ù–∞–∑–∞–¥</button>
                </div>
            </div>
        </section>


        <!-- === –ò–ì–†–û–í–´–ï –ü–û–õ–Ø === -->

        <!-- Game: Snake -->
        <section id="game-snake" class="page game-page">
            <div class="game-hud">
                <div class="score-pill">üèÜ <span id="snake-score-display">0</span></div>
                <button class="icon-btn" onclick="Nav.toMenu()">‚úï</button>
            </div>
            <canvas id="snake-canvas"></canvas>
            <div class="mobile-controls">
                <div class="dpad">
                    <button onclick="SnakeGame.input(0, -1)">‚ñ≤</button>
                    <div class="row">
                        <button onclick="SnakeGame.input(-1, 0)">‚óÄ</button>
                        <button onclick="SnakeGame.input(1, 0)">‚ñ∂</button>
                    </div>
                    <button onclick="SnakeGame.input(0, 1)">‚ñº</button>
                </div>
            </div>
        </section>

        <!-- Game: Match 3 -->
        <section id="game-match3" class="page game-page">
            <div class="game-hud">
                <div class="moves-pill">‚è≥ <span id="m3-moves-display">20</span></div>
                <button class="icon-btn" onclick="Nav.toMenu()">‚úï</button>
            </div>
            <div id="m3-targets-display" class="targets-container"></div>
            <div id="m3-grid" class="match3-grid"></div>
        </section>

        <!-- Game: Battleship -->
        <section id="game-bs" class="page game-page">
            <div class="game-hud">
                <div class="status-text" id="bs-message">–†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞...</div>
                <button class="icon-btn" onclick="Nav.toMenu()">‚úï</button>
            </div>
            <div class="bs-wrapper">
                <div class="bs-board-container">
                    <span>–í–ê–® –§–õ–û–¢</span>
                    <div id="bs-player" class="bs-grid small"></div>
                </div>
                <div class="bs-divider">VS</div>
                <div class="bs-board-container active">
                    <span>–í–†–ê–ì (–ê–¢–ê–ö–ê)</span>
                    <div id="bs-enemy" class="bs-grid"></div>
                </div>
            </div>
        </section>

        <!-- Game: Sapper/TTT (Container) -->
        <section id="game-minigame" class="page game-page">
            <div class="game-hud">
                <div class="status-text" id="mg-status">–ò–≥—Ä–∞</div>
                <button class="icon-btn" onclick="Nav.toMenu()">‚úï</button>
            </div>
            <div id="mg-container" class="mg-container"></div>
            <div id="mg-controls" class="mg-controls"></div>
        </section>

    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal">
            <h2 id="modal-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h2>
            <div id="modal-content">–ö–æ–Ω—Ç–µ–Ω—Ç</div>
            <button class="primary-btn" onclick="Nav.closeModal()">–ó–ê–ö–†–´–¢–¨</button>
        </div>
    </div>

    <!-- –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –°–ö–†–ò–ü–¢–û–í -->
    <script src="app.js"></script>
    <script src="snake.js"></script>
    <script src="match3.js"></script>
    <script src="minigames.js"></script>
</body>
</html>
