<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MEGA GAMES</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-container">
        
        <!-- === –ú–ï–ù–Æ === -->
        <div id="screen-menu" class="screen active">
            <div class="logo-area">
                <h1 class="logo">MEGA<br>GAMES</h1>
            </div>
            <div class="menu-grid">
                <button class="game-btn" onclick="Nav.toSetup('snake')">
                    <!-- SVG –ó–º–µ—è -->
                    <svg class="icon" viewBox="0 0 24 24"><path d="M11,0.5C10.17,0.5 9.5,1.17 9.5,2V11H2V13H11V22H13V13H22V11H13V2C13,1.17 12.33,0.5 11.5,0.5H11M12,4V10H18V12H12V18H10V12H4V10H10V4H12Z" style="display:none"/><path fill="currentColor" d="M20.2,16.2C20.8,15.7 21.2,15 21.2,14.2V8.8C21.2,7 19.8,5.6 18,5.6H17.2C16.3,5.6 15.5,6.1 15.1,6.8L12,12L9.8,8.2C9.4,7.5 8.6,7 7.8,7H7C5.2,7 3.8,8.4 3.8,10.2V15.6C3.8,16.4 4.2,17.1 4.8,17.6L9,21.8L13.2,17.6C13.8,17.1 14.2,16.4 14.2,15.6V10.2C14.2,10.1 14.2,10 14.1,9.9L16.4,13.8L13.8,17.9L20.2,16.2Z"/></svg>
                    <span>–ó–ú–ï–ô–ö–ê</span>
                </button>
                <button class="game-btn" onclick="Nav.toSetup('match3')">
                    <!-- SVG –ê–ª–º–∞–∑ -->
                    <svg class="icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12,2L2,12L12,22L22,12L12,2Z"/></svg>
                    <span>3 –í –†–Ø–î</span>
                </button>
                <button class="game-btn" onclick="Nav.toSetup('battleship')">
                    <!-- SVG –Ø–∫–æ—Ä—å -->
                    <svg class="icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12,2C9,2 7,3 6,4C5,5 4,7 4,9C4,11 5,13 6,14C7,15 9,16 12,16C15,16 17,15 18,14C19,13 20,11 20,9C20,7 19,5 18,4C17,3 15,2 12,2M12,4C14.5,4 16,5.5 16,9C16,12.5 14.5,14 12,14C9.5,14 8,12.5 8,9C8,5.5 9.5,4 12,4M12,17C7,17 3,18 2,19V22H22V19C21,18 17,17 12,17Z"/></svg>
                    <span>–ú–û–†. –ë–û–ô</span>
                </button>
                <button class="game-btn" onclick="Nav.toSetup('chess')">
                    <!-- SVG –®–∞—Ö–º–∞—Ç—ã -->
                    <svg class="icon" viewBox="0 0 24 24"><path fill="currentColor" d="M19,22H5V20H19V22M17,10C15.58,10 14.26,10.77 13.55,12H13V7H15V3H9V7H11V12H10.45C9.35,10.09 6.9,9.43 5,10.54C3.07,11.64 2.42,14.09 3.5,16C4.24,17.24 5.57,18 7,18H17A4,4 0 0,0 21,14A4,4 0 0,0 17,10Z"/></svg>
                    <span>–®–ê–•–ú–ê–¢–´</span>
                </button>
                <button class="game-btn" onclick="Nav.toSetup('ttt')">
                    <!-- SVG –ö—Ä–µ—Å—Ç–∏–∫ -->
                    <svg class="icon" viewBox="0 0 24 24"><path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/></svg>
                    <span>–ö–†–ï–°–¢–ò–ö–ò</span>
                </button>
                <button class="game-btn" onclick="Nav.toSetup('sapper')">
                    <!-- SVG –ë–æ–º–±–∞ -->
                    <svg class="icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"/></svg>
                    <span>–°–ê–ü–ï–†</span>
                </button>
            </div>
            <div class="bottom-nav">
                <button onclick="Nav.show('screen-stats')">üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê</button>
                <button onclick="Nav.show('screen-settings')">‚öô –¢–ï–ú–ê</button>
            </div>
        </div>

        <!-- === –ù–ê–°–¢–†–û–ô–ö–ò (SETUP) === -->
        
        <div id="screen-setup-snake" class="screen">
            <h2>–ó–ú–ï–ô–ö–ê</h2>
            <div class="setup-scroll-area">
                <div class="setup-block">
                    <label>–°–∫–æ—Ä–æ—Å—Ç—å: <b id="val-snake-speed">5</b></label>
                    <input type="range" min="1" max="10" value="5" oninput="Setup.updateLabel('snake-speed', this.value)">
                </div>
                <h3>–§–†–£–ö–¢–´ (–í–ö–õ/–í–´–ö–õ)</h3>
                <div class="toggles-grid">
                    <div class="toggle-item active" onclick="Setup.toggleFruit(this, 'gold')"><span>üçå</span><small>+5</small></div>
                    <div class="toggle-item active" onclick="Setup.toggleFruit(this, 'blue')"><span>ü´ê</span><small>-3</small></div>
                    <div class="toggle-item active" onclick="Setup.toggleFruit(this, 'purple')"><span>üçá</span><small>Slow</small></div>
                    <div class="toggle-item active" onclick="Setup.toggleFruit(this, 'chili')"><span>üå∂</span><small>Fast</small></div>
                    <div class="toggle-item active" onclick="Setup.toggleFruit(this, 'cherry')"><span>üçí</span><small>Boom</small></div>
                    <div class="toggle-item active" onclick="Setup.toggleFruit(this, 'lime')"><span>üçà</span><small>Ghost</small></div>
                </div>
            </div>
            <button class="play-btn" onclick="SnakeGame.start()">–ò–ì–†–ê–¢–¨</button>
            <button class="back-btn" onclick="Nav.show('screen-menu')">–ù–ê–ó–ê–î</button>
        </div>

        <div id="screen-setup-match3" class="screen">
            <h2>3 –í –†–Ø–î</h2>
            <div class="setup-block">
                <label>–¶–µ–ª–∏ (—Ü–≤–µ—Ç–∞): <b id="val-m3-targets">2</b></label>
                <input type="range" min="1" max="6" value="2" oninput="Setup.updateLabel('m3-targets', this.value)">
            </div>
            <div class="info-card"><p>–°–æ–±–∏—Ä–∞–π –ª–∏–Ω–∏–∏ 3+<br>–ö–æ–º–±–æ 4+ –¥–∞–µ—Ç —Ö–æ–¥—ã!</p></div>
            <button class="play-btn" onclick="Match3Game.start()">–ò–ì–†–ê–¢–¨</button>
            <button class="back-btn" onclick="Nav.show('screen-menu')">–ù–ê–ó–ê–î</button>
        </div>

        <div id="screen-setup-battleship" class="screen">
            <h2>–ú–û–†–°–ö–û–ô –ë–û–ô</h2>
            <div class="info-card"><p>–°–ª—É—á–∞–π–Ω–∞—è —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞.<br>–°—Ç—Ä–µ–ª—è–π –ø–æ –ø–æ–ª—é –≤—Ä–∞–≥–∞ (—Å–Ω–∏–∑—É).</p></div>
            <button class="play-btn" onclick="BSGame.start()">–ò–ì–†–ê–¢–¨</button>
            <button class="back-btn" onclick="Nav.show('screen-menu')">–ù–ê–ó–ê–î</button>
        </div>

        <div id="screen-setup-sapper" class="screen">
            <h2>–°–ê–ü–ï–†</h2>
            <div class="setup-block">
                <label>–ú–∏–Ω—ã:</label>
                <div class="row-btn">
                    <button id="btn-sap-10" class="opt-btn active" onclick="Setup.setSapperDiff(10)">10</button>
                    <button id="btn-sap-20" class="opt-btn" onclick="Setup.setSapperDiff(20)">20</button>
                    <button id="btn-sap-30" class="opt-btn" onclick="Setup.setSapperDiff(30)">30</button>
                </div>
            </div>
            <button class="play-btn" onclick="SapperGame.start()">–ò–ì–†–ê–¢–¨</button>
            <button class="back-btn" onclick="Nav.show('screen-menu')">–ù–ê–ó–ê–î</button>
        </div>

        <div id="screen-setup-ttt" class="screen">
            <h2>–ö–†–ï–°–¢–ò–ö–ò</h2>
            <div class="info-card"><p>–ò–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.<br>–ü–µ—Ä–≤—ã–π —Ö–æ–¥ –∑–∞ X.</p></div>
            <button class="play-btn" onclick="TTTGame.start()">–ò–ì–†–ê–¢–¨</button>
            <button class="back-btn" onclick="Nav.show('screen-menu')">–ù–ê–ó–ê–î</button>
        </div>

        <div id="screen-setup-chess" class="screen">
            <h2>–®–ê–•–ú–ê–¢–´</h2>
            <div class="info-card"><p>–†–µ–∂–∏–º PvP (–Ω–∞ –æ–¥–Ω–æ–º —ç–∫—Ä–∞–Ω–µ).<br>–î–≤–∏–≥–∞–π —Ñ–∏–≥—É—Ä—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏.</p></div>
            <button class="play-btn" onclick="ChessGame.start()">–ò–ì–†–ê–¢–¨</button>
            <button class="back-btn" onclick="Nav.show('screen-menu')">–ù–ê–ó–ê–î</button>
        </div>

        <!-- === –ò–ì–†–û–í–´–ï –≠–ö–†–ê–ù–´ === -->

        <div id="screen-game-snake" class="screen game-bg">
            <div class="game-header">
                <span id="snake-score">0</span>
                <button class="mini-btn" onclick="Nav.toSetup('snake')">–í–´–•–û–î</button>
            </div>
            <canvas id="snake-canvas" width="340" height="340"></canvas>
            <div id="snake-effect" class="effect-bar"></div>
            <!-- –°–¢–†–ï–õ–ö–ò –ö–ê–ö –ù–ê –°–ö–†–ò–ù–ï -->
            <div class="dpad">
                <div class="dpad-row">
                    <button class="dpad-btn" onclick="SnakeGame.input(0, -1)">‚ñ≤</button>
                </div>
                <div class="dpad-row">
                    <button class="dpad-btn" onclick="SnakeGame.input(-1, 0)">‚óÄ</button>
                    <div class="dpad-spacer"></div>
                    <button class="dpad-btn" onclick="SnakeGame.input(1, 0)">‚ñ∂</button>
                </div>
                <div class="dpad-row">
                    <button class="dpad-btn" onclick="SnakeGame.input(0, 1)">‚ñº</button>
                </div>
            </div>
        </div>

        <div id="screen-game-match3" class="screen game-bg">
            <div class="game-header-stack">
                <div class="top">
                    <span id="m3-moves">20</span>
                    <button class="mini-btn" onclick="Nav.toSetup('match3')">–í–´–•–û–î</button>
                </div>
                <div id="m3-targets" class="targets-bar"></div>
            </div>
            <div id="m3-board" class="m3-grid"></div>
        </div>

        <div id="screen-game-battleship" class="screen game-bg">
            <div class="game-header">
                <span id="bs-status">–ë–û–ô!</span>
                <button class="mini-btn" onclick="Nav.toSetup('battleship')">–í–´–•–û–î</button>
            </div>
            <div class="bs-boards-area">
                <div class="board-wrapper small-board">
                    <div class="bs-label">–í–´</div>
                    <div id="bs-player" class="bs-grid"></div>
                </div>
                <div class="vs-divider">VS</div>
                <div class="board-wrapper big-board">
                    <div id="bs-enemy" class="bs-grid active-zone"></div>
                    <div class="bs-label active">–í–†–ê–ì (–¶–ï–õ–¨)</div>
                </div>
            </div>
        </div>

        <div id="screen-game-sapper" class="screen game-bg">
            <div class="game-header">
                <span id="sapper-count">üí£ 10</span>
                <button class="mini-btn" onclick="Nav.toSetup('sapper')">–í–´–•–û–î</button>
            </div>
            <div id="sapper-field" class="sapper-grid"></div>
            <div class="sapper-tools">
                <button id="tool-dig" class="active" onclick="SapperGame.setTool('dig')">‚õè</button>
                <button id="tool-flag" onclick="SapperGame.setTool('flag')">üö©</button>
            </div>
        </div>

        <div id="screen-game-ttt" class="screen game-bg">
            <div class="game-header">
                <span id="ttt-msg">–•–æ–¥: X</span>
                <button class="mini-btn" onclick="Nav.toSetup('ttt')">–í–´–•–û–î</button>
            </div>
            <div id="ttt-board" class="ttt-grid"></div>
        </div>

        <div id="screen-game-chess" class="screen game-bg">
            <div class="game-header">
                <span id="chess-msg">–ë–µ–ª—ã–µ</span>
                <button class="mini-btn" onclick="Nav.toSetup('chess')">–í–´–•–û–î</button>
            </div>
            <div id="chess-board" class="chess-grid"></div>
        </div>

        <!-- === –î–û–ü –≠–ö–†–ê–ù–´ === -->
        <div id="screen-stats" class="screen">
            <h2>–°–¢–ê–¢–ò–°–¢–ò–ö–ê</h2>
            <div id="stats-list" class="stats-box"></div>
            <button class="back-btn" onclick="Nav.show('screen-menu')">–ù–ê–ó–ê–î</button>
        </div>

        <div id="screen-settings" class="screen">
            <h2>–¢–ï–ú–´</h2>
            <div class="themes-grid">
                <div class="theme-item blue" onclick="App.setTheme('blue')">BLUE</div>
                <div class="theme-item green" onclick="App.setTheme('green')">GREEN</div>
                <div class="theme-item red" onclick="App.setTheme('red')">RED</div>
                <div class="theme-item purple" onclick="App.setTheme('purple')">PURPLE</div>
            </div>
            <button class="back-btn" onclick="Nav.show('screen-menu')">–ù–ê–ó–ê–î</button>
        </div>

        <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <h2 id="modal-h">TITLE</h2>
                <p id="modal-p">Text</p>
                <button id="modal-btn">OK</button>
            </div>
        </div>

    </div>
    <script src="script.js"></script>
</body>
</html>
